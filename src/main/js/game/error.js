define(function(require) {	const gameFlow = require("skbJet/componentManchester/standardIW/gameFlow");	const displayList = require("skbJet/componentManchester/standardIW/displayList");	const resLib = require("skbJet/component/resourceLoader/resourceLib");	const msgBus = require("skbJet/component/gameMsgBus/GameMsgBus");	const gameState = require("game/state/gameState");		const revealGame0 = require("game/components/game0/match3Reveal");	const revealGame1 = require("game/components/game1/instantWinReveal");	let _isError = false; //machine.js doesn't expose the current state so we have to do a silly hack	function error() {		// stop reveal all if active		revealGame0.stop();		revealGame1.stop();		//hide altButtons		msgBus.publish("UI.updateButtons", {			altAutoPlay: false		});		_isError = true;		gameState.error();		//Set this here to avoid timeout		displayList.errorTitle.text = resLib.i18n.game.Game.error_title;	}	gameFlow.handle(error, "ERROR");	return {		isError: () => { return _isError; }	};});